<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>درس واختبار فرنسي: المراهقون اليوم والأمس</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
            background-color: #f3f4f6; /* Lighter gray background */
        }
        .font-inter {
            font-family: 'Inter', sans-serif;
        }
        .correct {
            background-color: #d1fae5 !important; /* Green-100 */
            border-left: 5px solid #10b981; /* Green-500 */
        }
        .incorrect {
            background-color: #fee2e2 !important; /* Red-100 */
            border-left: 5px solid #ef4444; /* Red-500 */
        }
        .question-subtitle {
            font-size: 1.1rem;
            font-weight: bold;
            color: #4f46e5; /* Indigo-600 */
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
            padding-bottom: 0.25rem;
            border-bottom: 2px solid #c7d2fe; /* Indigo-200 */
        }
        /* Ensure LTR direction for French text and buttons */
        .ltr-content {
            direction: ltr;
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-4xl">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-indigo-700">المراهقون اليوم والأمس</h1>
            <p class="text-lg text-gray-600 mt-2">تعلم المفردات الرئيسية واختبر فهمك للنص</p>
        </header>

        <!-- Section for Key Vocabulary and Sentences -->
        <section class="bg-white p-6 rounded-lg shadow-lg mb-8">
            <h2 class="text-2xl font-bold mb-4 border-b-2 border-indigo-200 pb-2">الكلمات والجمل الرئيسية (20 مفردة)</h2>
            <div class="space-y-4">
                <!-- Vocabulary Table -->
                <div id="vocabulary-list" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <!-- Items will be injected by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Section for the Quiz -->
        <section class="bg-white p-6 rounded-lg shadow-lg">
            <h2 class="text-2xl font-bold mb-6 border-b-2 border-indigo-200 pb-2">اختبار قصير متنوع (Quiz)</h2>
            <form id="quiz-form" class="space-y-6">
                <!-- Quiz questions will be injected by JavaScript -->
            </form>
            <div class="mt-8 text-center ltr-content">
                <button id="submit-quiz" type="button" class="bg-indigo-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-indigo-700 transition-colors duration-300 shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                    تحقق من إجاباتك
                </button>
            </div>
            <div id="quiz-results" class="mt-6 text-center text-2xl font-bold"></div>
        </section>

    </div>

    <script>
        // --- DATA ---
        const vocabulary = [
            { fr: "Les ados", ar: "المراهقون" },
            { fr: "Les préoccupations", ar: "الاهتمامات / الشواغل" },
            { fr: "L'amitié", ar: "الصداقة" },
            { fr: "L'avenir", ar: "المستقبل" },
            { fr: "Les réseaux sociaux", ar: "الشبكات الاجتماعية" },
            { fr: "Une source de stress", ar: "مصدر للتوتر" },
            { fr: "La pression", ar: "الضغط" },
            { fr: "Les comparaisons", ar: "المقارنات" },
            { fr: "L'image de soi", ar: "صورة الذات" },
            { fr: "L'apparence", ar: "المظهر" },
            { fr: "Les loisirs", ar: "أوقات الفراغ / الهوايات" },
            { fr: "Le streaming", ar: "البث المباشر" },
            { fr: "Les avantages", ar: "المزايا" },
            { fr: "Les inconvénients", ar: "العيوب" },
            { fr: "Une période intense", ar: "فترة حماسية / مكثفة" },
            { fr: "Les découvertes", ar: "الاكتشافات" },
            { fr: "Les doutes", ar: "الشكوك" },
            { fr: "Connectée", ar: "متصلة (بالإنترنت)" },
            { fr: "Instantanée", ar: "فوري" },
            { fr: "Unique", ar: "فريد" }
        ];

        const quizQuestions = [
            // --- Type: Compréhension du texte ---
            {
                type: "Compréhension du texte",
                question: "Selon le texte, quelle était la principale façon de garder contact avec ses amis il y a 30 ans ?",
                options: ["Snapchat", "Le téléphone fixe", "Instagram", "TikTok"],
                answer: "Le téléphone fixe"
            },
            {
                type: "Compréhension du texte",
                question: "Qu'est-ce que le 'FOMO' mentionné dans le texte ?",
                options: ["La peur de rater quelque chose", "Une nouvelle application sociale", "Une marque de téléphone", "Un type de musique"],
                answer: "La peur de rater quelque chose"
            },
            {
                type: "Compréhension du texte",
                question: "À quoi les ados d'hier se comparaient-ils principalement, selon le texte ?",
                options: ["Aux influenceurs sur YouTube", "À leurs camarades de classe", "Aux stars des magazines", "À leurs parents"],
                answer: "Aux stars des magazines"
            },
            {
                type: "Compréhension du texte",
                question: "Quel mot décrit le mieux la vie des ados d'aujourd'hui comparée à celle d'hier ?",
                options: ["Plus simple", "Moins stressante", "Plus connectée", "Plus lente"],
                answer: "Plus connectée"
            },
             // --- Type: Vocabulaire (Synonymes/Antonymes) ---
            {
                type: "Vocabulaire",
                question: "Choisissez le synonyme du mot 'préoccupations' :",
                options: ["Soucis", "Loisirs", "Vacances", "Amis"],
                answer: "Soucis"
            },
            {
                type: "Vocabulaire",
                question: "Choisissez l'antonyme (le contraire) du mot 'avantages' :",
                options: ["Bénéfices", "Qualités", "Inconvénients", "Atouts"],
                answer: "Inconvénients"
            },
            // --- Type: Complétez la phrase ---
            {
                type: "Complétez la phrase",
                question: "L'adolescence reste cette période intense, pleine de découvertes et de ___.",
                options: ["certitudes", "doutes", "repos", "tranquillité"],
                answer: "doutes"
            },
            // --- Type: Vrai ou Faux ---
            {
                type: "Vrai ou Faux",
                question: "Vrai ou Faux : Selon le texte, la vie des ados d'aujourd'hui est moins stressante qu'avant.",
                options: ["Vrai", "Faux"],
                answer: "Faux"
            },
            // --- Type: Traduction ---
            {
                type: "Traduction",
                question: "Que signifie le mot 'l'avenir' en arabe ?",
                options: ["الماضي", "الحاضر", "المستقبل", "الصداقة"],
                answer: "المستقبل"
            },
            {
                type: "Vrai ou Faux",
                question: "Vrai ou Faux : Il y a 30 ans, les jeunes écoutaient de la musique principalement en streaming.",
                options: ["Vrai", "Faux"],
                answer: "Faux"
            }
        ];

        // --- FUNCTIONS ---

        function speak(text) {
            if ('speechSynthesis' in window) {
                // Cancel any previous speech to avoid overlap
                window.speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'fr-FR';
                utterance.rate = 0.9;
                window.speechSynthesis.speak(utterance);
            } else {
                alert("عذرًا، متصفحك لا يدعم نطق النص.");
            }
        }

        function populateVocabulary() {
            const list = document.getElementById('vocabulary-list');
            list.innerHTML = '';
            vocabulary.forEach(item => {
                const div = document.createElement('div');
                div.className = 'flex items-center justify-between bg-gray-50 p-3 rounded-lg border border-gray-200 ltr-content';
                div.innerHTML = `
                    <div>
                        <p class="font-inter font-bold text-indigo-800">${item.fr}</p>
                        <p class="font-cairo text-sm text-gray-600" dir="rtl">${item.ar}</p>
                    </div>
                    <button class="speak-btn bg-indigo-100 text-indigo-700 rounded-full p-2 hover:bg-indigo-200 transition focus:outline-none focus:ring-2 focus:ring-indigo-400" data-text="${item.fr}">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.858 5.858a3 3 0 014.242 0L12 7.757l1.9-1.9a3 3 0 014.242 0 3 3 0 010 4.242L12 16.243l-6.142-6.143a3 3 0 010-4.242z" transform="translate(0, 3) scale(0.7)"/>
                          <path stroke-linecap="round" stroke-linejoin="round" d="M9 20h6" transform="translate(0, -11)"/>
                          <path stroke-linecap="round" stroke-linejoin="round" d="M15 20a6 6 0 01-6 0" transform="translate(0, -11)"/>
                          <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v1m0 14v1" transform="translate(0, -1)"/>
                          <path stroke-linecap="round" stroke-linejoin="round" d="M4 12h1m14 0h1" transform="translate(-1, 0)"/>
                          <path stroke-linecap="round" stroke-linejoin="round" d="M6.343 6.343l.707.707m10.607 10.607l.707.707" transform="translate(-1, -1)"/>
                          <path stroke-linecap="round" stroke-linejoin="round" d="M6.343 17.657l.707-.707m10.607-10.607l.707-.707" transform="translate(-1, 1)"/>
                        </svg>
                    </button>
                `;
                list.appendChild(div);
            });
        }

        function populateQuiz() {
            const form = document.getElementById('quiz-form');
            form.innerHTML = '';
            let currentType = "";
            quizQuestions.forEach((q, index) => {
                // Add a subtitle for each new question type
                if (q.type !== currentType) {
                    currentType = q.type;
                    const typeTitle = document.createElement('h3');
                    typeTitle.className = 'question-subtitle ltr-content';
                    typeTitle.textContent = currentType;
                    form.appendChild(typeTitle);
                }

                const questionDiv = document.createElement('div');
                questionDiv.className = 'question-block p-4 rounded-lg border border-gray-200';
                
                const optionsHTML = q.options.map(option => `
                    <label class="flex items-center p-3 rounded-lg border border-gray-300 hover:bg-gray-100 cursor-pointer transition">
                        <input type="radio" name="question${index}" value="${option}" class="mr-3 ml-3 text-indigo-600 focus:ring-indigo-500">
                        <span class="font-inter flex-1">${option}</span>
                    </label>
                `).join('');

                questionDiv.innerHTML = `
                    <p class="font-bold text-lg mb-4 ltr-content">${index + 1}. ${q.question}</p>
                    <div class="space-y-2 options-container ltr-content" id="q${index}">
                        ${optionsHTML}
                    </div>
                `;
                form.appendChild(questionDiv);
            });
        }
        
        function checkAnswers() {
            let score = 0;
            quizQuestions.forEach((q, index) => {
                const container = document.getElementById(`q${index}`);
                const selected = container.querySelector(`input[name="question${index}"]:checked`);
                const labels = container.querySelectorAll('label');
                
                labels.forEach(label => {
                    label.classList.remove('correct', 'incorrect');
                    const inputValue = label.querySelector('input').value;
                    // Highlight the correct answer regardless of user's choice
                    if (inputValue === q.answer) {
                        label.classList.add('correct');
                    }
                });

                if (selected) {
                    if (selected.value === q.answer) {
                        score++;
                    } else {
                        // Highlight the user's incorrect choice
                        selected.parentElement.classList.add('incorrect');
                    }
                }
            });

            const resultsDiv = document.getElementById('quiz-results');
            resultsDiv.innerHTML = `نتيجتك: <span class="font-inter">${score}</span> / <span class="font-inter">${quizQuestions.length}</span>`;
            resultsDiv.scrollIntoView({ behavior: 'smooth' });
        }

        // --- EVENT LISTENERS ---
        document.addEventListener('DOMContentLoaded', () => {
            populateVocabulary();
            populateQuiz();

            document.getElementById('vocabulary-list').addEventListener('click', function(e) {
                const button = e.target.closest('.speak-btn');
                if (button) {
                    e.preventDefault();
                    const textToSpeak = button.dataset.text;
                    speak(textToSpeak);
                }
            });

            document.getElementById('submit-quiz').addEventListener('click', checkAnswers);
        });
    </script>
</body>
</html>
